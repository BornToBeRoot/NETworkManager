<UserControl x:Class="NETworkManager.Views.SettingsAppearanceView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:converters="clr-namespace:NETworkManager.Converters;assembly=NETworkManager.Converters"
             xmlns:appearance="clr-namespace:NETworkManager.Models.Appearance;assembly=NETworkManager.Models"
             xmlns:viewModels="clr-namespace:NETworkManager.ViewModels"
             xmlns:localization="clr-namespace:NETworkManager.Localization.Resources;assembly=NETworkManager.Localization"
             mc:Ignorable="d" d:DataContext="{d:DesignInstance viewModels:SettingsAppearanceViewModel}">
    <UserControl.Resources>
        <converters:AccentToStringConverter x:Key="AccentToStringConverter" />
        <converters:ThemeToStringConverter x:Key="ThemeToStringConverter" />
        <converters:BooleanReverseConverter x:Key="BooleanReverseConverter" />
    </UserControl.Resources>
    <StackPanel>
        <TextBlock Text="{x:Static Member=localization:Strings.Theme}" Style="{StaticResource ResourceKey=HeaderTextBlock}" />
        <ListView ScrollViewer.HorizontalScrollBarVisibility="Disabled" ItemsSource="{Binding Path=Themes}"
                  SelectedItem="{Binding Path=SelectedTheme}"
                  IsEnabled="{Binding Path=UseCustomTheme, Converter={StaticResource ResourceKey=BooleanReverseConverter}}"
                  VerticalAlignment="Top" BorderThickness="0" SelectionMode="Single" Margin="0,0,0,20">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Rectangle Width="48" Height="48" Margin="-1,2" Fill="{Binding Color}"
                               ToolTip="{Binding Name, Converter={StaticResource ResourceKey=ThemeToStringConverter}}" />
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ListView.ItemsPanel>
            <!-- BUGFIX This has to be set, to enable mouse wheel scrolling -->
            <ListBox.Template>
                <ControlTemplate>
                    <ItemsPresenter />
                </ControlTemplate>
            </ListBox.Template>
            <!-- /BUGFIX-->
        </ListView>
        <TextBlock Text="{x:Static localization:Strings.Accent}" Style="{StaticResource ResourceKey=HeaderTextBlock}" />
        <ListView ScrollViewer.HorizontalScrollBarVisibility="Disabled" ItemsSource="{Binding Path=Accents}"
                  SelectedItem="{Binding Path=SelectedAccent}"
                  IsEnabled="{Binding Path=UseCustomTheme, Converter={StaticResource ResourceKey=BooleanReverseConverter}}"
                  VerticalAlignment="Top" BorderThickness="0" SelectionMode="Single" Margin="0,0,0,20">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Rectangle Width="48" Height="48" Margin="-1,2" Fill="{Binding Path=Color}"
                               ToolTip="{Binding Path=Name,Converter={StaticResource ResourceKey=AccentToStringConverter}}" />
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ListView.ItemsPanel>
            <!-- BUGFIX This has to be set, to enable mouse wheel scrolling -->
            <ListBox.Template>
                <ControlTemplate>
                    <ItemsPresenter />
                </ControlTemplate>
            </ListBox.Template>
            <!-- /BUGFIX-->
        </ListView>
        <TextBlock Style="{StaticResource ResourceKey=HeaderTextBlock}" Text="{x:Static Member=localization:Strings.CustomThemes}" />
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <mah:ToggleSwitch Header="{x:Static Member=localization:Strings.UseCustomThemes}" IsOn="{Binding Path=UseCustomTheme}" />
            <Rectangle Width="24" Height="24"
                       ToolTip="{x:Static Member=localization:Strings.HelpMessage_UseCustomThemes}"
                       Style="{StaticResource ResourceKey=HelpImageRectangle}" VerticalAlignment="Top" Margin="10,0,0,0">
                <Rectangle.Resources>
                    <Style TargetType="{x:Type TypeName=ToolTip}" BasedOn="{StaticResource ResourceKey=HelpToolTip}" />
                </Rectangle.Resources>
            </Rectangle>
        </StackPanel>
        <ComboBox ItemsSource="{Binding Path=CustomThemes}" SelectedItem="{Binding Path=SelectedCustomTheme}"
                  IsEnabled="{Binding Path=UseCustomTheme}" Width="250" HorizontalAlignment="Left" Margin="0,0,0,20">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Path=DisplayName}" d:DataContext="{d:DesignInstance appearance:ThemeInfo}" />
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        <TextBlock Style="{StaticResource ResourceKey=HeaderTextBlock}" Text="{x:Static Member=localization:Strings.PowerShell}" />
        <StackPanel Orientation="Horizontal">
            <mah:ToggleSwitch Header="{x:Static Member=localization:Strings.ApplyThemeToPowerShellConsole}"
                              IsOn="{Binding Path=PowerShellModifyGlobalProfile}" />
            <Rectangle Width="24" Height="24"
                       ToolTip="{x:Static Member=localization:Strings.HelpMessage_ApplyThemeToPowerShellConsole}"
                       Style="{StaticResource ResourceKey=HelpImageRectangle}" VerticalAlignment="Top" Margin="10,0,0,0">
                <Rectangle.Resources>
                    <Style TargetType="{x:Type TypeName=ToolTip}" BasedOn="{StaticResource ResourceKey=HelpToolTip}" />
                </Rectangle.Resources>
            </Rectangle>
        </StackPanel>
    </StackPanel>
</UserControl>